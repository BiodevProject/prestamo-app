<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout :: layout(~{::content}, '/css/creditoEdit.css')"
      th:with="title='Información de credito'">
  <div th:fragment="content">

    <section class="info-panel" style="margin-top: 150px">
      <header class="panel-header">
        <h1>Información de el credito</h1>
        <div class="subheader">
          <p>ID de la Producto: <strong th:text="${credito.id}">123</strong></p>
          <nav class="breadcrumb">
            <a href="/">Inicio</a> › 
            <a href="/credito/dashboard">Creditos</a> › 
            <span class="current">Información</span>
          </nav>
        </div>
      </header>

      <div class="info-section">
        <form th:action="@{/credito/update}" method="post" id="user-form">
          <input type="hidden" name="id" th:value="${credito.id}" />
          
          <!-- Personal Information Section -->
          <div class="form-section">
            <h2 class="section-title">Información Personal</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="nombres">Nombres</label>
                <input type="text" id="nombres" name="nombres" th:value="${credito.usuarioSolicitud.nombres}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="dui">DUI</label>
                <input type="text" id="dui" name="dui" th:value="${credito.usuarioSolicitud.dui}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="nit">NIT</label>
                <input type="text" id="nit" name="nit" th:value="${credito.usuarioSolicitud.nit}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="fechaNacimiento">Fecha de nacimiento</label>
                <input type="date" id="fechaNacimiento" name="fechaNacimiento" th:value="${credito.usuarioSolicitud.fechaNacimiento}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="estadoCivil">Estado civil</label>
                <select id="estadoCivil" name="estadoCivil" th:value="${credito.usuarioSolicitud.estadoCivil}" disabled class="form-select">
                  <option value="soltero">Soltero</option>
                  <option value="casado">Casado</option>
                  <option value="divorciado">Divorciado</option>
                  <option value="viudo">Viudo</option>
                </select>
              </div>
              
              <div class="info-block">
                <label for="telefono">Teléfono celular</label>
                <input type="tel" id="telefono" name="telefono" th:value="${credito.usuarioSolicitud.telefono}" disabled />
              </div>
              
              <div class="info-block">
                <label for="email">Correo electrónico</label>
                <input type="email" id="email" name="email" th:value="${credito.usuarioSolicitud.email}" disabled />
              </div>
              
              <div class="info-block full-width">
                <label for="direccion">Dirección</label>
                <textarea id="direccion" name="direccion" th:text="${credito.usuarioSolicitud.direccion}" disabled class="form-textarea" rows="3"></textarea>
              </div>
            </div>
          </div>

          <!-- Work Information Section -->
          <div class="form-section">
            <h2 class="section-title">Información Laboral</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="empresaTrabajo">Empresa donde trabaja</label>
                <input type="text" id="empresaTrabajo" name="empresaTrabajo" th:value="${credito.usuarioSolicitud.empresaTrabajo}" disabled />
              </div>
              
              <div class="info-block">
                <label for="puesto">Puesto o cargo</label>
                <input type="text" id="puesto" name="puesto" th:value="${credito.usuarioSolicitud.puesto}" disabled />
              </div>
              
              <div class="info-block">
                <label for="ingresoMensual">Ingresos mensuales</label>
                <input type="number" id="ingresoMensual" name="ingresoMensual" th:value="${credito.usuarioSolicitud.ingresoMensual}" disabled />
              </div>
              
              <div class="info-block">
                <label for="tipoContrato">Tipo de contrato</label>
                <select id="tipoContrato" name="tipoContrato" th:value="${credito.usuarioSolicitud.tipoContrato}" disabled class="form-select">
                  <option value="permanente">Permanente</option>
                  <option value="temporal">Temporal</option>
                  <option value="otro">Otro</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Credit Information Section -->
          <div class="form-section">
            <h2 class="section-title">Datos del Crédito</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="monto">Monto solicitado ($)</label>
                <input type="number" id="monto" name="monto" th:value="${credito.monto}" required />
              </div>
              
              <div class="info-block">
                <label for="plazoMeses">Plazo en meses</label>
                <input type="number" id="plazoMeses" name="plazoMeses" th:value="${credito.plazoMeses}" required />
              </div>
              
              <div class="info-block">
                <label for="destino">Destino del crédito</label>
                <select id="destino" name="destino" th:value="${credito.destino}" class="form-select">
                  <option value="consumo">Consumo personal</option>
                  <option value="negocio">Negocio</option>
                  <option value="compra">Compra de bienes</option>
                  <option value="deuda">Pago de deudas</option>
                  <option value="otro">Otro</option>
                </select>
              </div>
              
              <div class="info-block">
                <label for="formaDePago">Forma de pago</label>
                <select id="formaDePago" name="formaDePago" th:value="${credito.formaDePago}" class="form-select">
                  <option value="quincenal">Quincenal</option>
                  <option value="mensual">Mensual</option>
                </select>
              </div>
            </div>
          </div>

          <!-- References Section -->
          <div class="form-section">
            <h2 class="section-title">Referencias Personales</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="referencia1">Nombre referencia 1</label>
                <input type="text" id="referencia1" name="referencia1" th:value="${credito.usuarioSolicitud.referencia1}" disabled />
              </div>
              
              <div class="info-block">
                <label for="telefonoReferencia1">Teléfono referencia 1</label>
                <input type="tel" id="telefonoReferencia1" name="telefonoReferencia1" th:value="${credito.usuarioSolicitud.telefonoReferencia1}" disabled />
              </div>
              
              <div class="info-block">
                <label for="parentesco1">Parentesco</label>
                <input type="text" id="parentesco1" name="parentesco1" th:value="${credito.usuarioSolicitud.parentesco1}" disabled />
              </div>
              
              <div class="info-block">
                <label for="referencia2">Nombre referencia 2</label>
                <input type="text" id="referencia2" name="referencia2" th:value="${credito.usuarioSolicitud.referencia2}" disabled />
              </div>
              
              <div class="info-block">
                <label for="telefonoReferencia2">Teléfono referencia 2</label>
                <input type="tel" id="telefonoReferencia2" name="telefonoReferencia2" th:value="${credito.usuarioSolicitud.telefonoReferencia2}" disabled />
              </div>
              
              <div class="info-block">
                <label for="parentesco2">Parentesco</label>
                <input type="text" id="parentesco2" name="parentesco2" th:value="${credito.usuarioSolicitud.parentesco2}" disabled />
              </div>
            </div>
          </div>

          <!-- Declaration Section -->
          <div class="form-section">
            <h2 class="section-title">Declaración</h2>
            <div class="info-grid">
              <div class="info-block full-width">
                <div class="declaration-text">
                  <p>Firmando, declaro que la información proporcionada es verdadera y autorizo a la financiera a verificarla.</p>
                </div>
              </div>
              
              <div class="info-block">
                <label for="firma">Firma del solicitante</label>
                <input type="text" id="firma" name="firma" th:value="${credito.usuarioSolicitud.firma}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="fechaSolicitud">Fecha</label>
                <input type="date" id="fechaSolicitud" name="fechaSolicitud" th:value="${credito.usuarioSolicitud.fechaSolicitud}" disabled required />
              </div>
            </div>
          </div>

          <div class="panel-actions">
            <button type="button" class="btn btn-primary" id="edit-btn">Editar Información</button>
            <button type="submit" class="btn btn-success" id="save-btn" style="display: none;">Guardar Cambios</button>
            <a href="/credito/dashboard" class="btn btn-secondary">Regresar</a>
          </div>
        </form>
      </div>
    </section>

    <script>
      const editBtn = document.getElementById("edit-btn");
      const saveBtn = document.getElementById("save-btn");
      const form = document.getElementById("user-form");
      const inputs = form.querySelectorAll("input:not([type='hidden'])");

      editBtn.addEventListener("click", () => {
        inputs.forEach(input => input.removeAttribute("disabled"));
        editBtn.style.display = "none";
        saveBtn.style.display = "inline-block";
      });
    </script>

  </div>
</html>
