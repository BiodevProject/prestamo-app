<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout :: layout(~{::content}, '/css/creditoEdit.css')"
      th:with="title='Información de credito'">
  <div th:fragment="content">

    <section class="info-panel" style="margin-top: 150px">
      <header class="panel-header">
        <h1>Información de el credito</h1>
        <div class="subheader">
          <p>ID de la Producto: <strong th:text="${credito.id}">123</strong></p>
          <nav class="breadcrumb">
            <a href="/">Inicio</a> › 
            <a href="/credito/dashboard">Creditos</a> › 
            <span class="current">Información</span>
          </nav>
        </div>
      </header>

      <div class="info-section">
        <form th:object="${credito}" th:action="@{/credito/update}" method="post" id="user-form">
          <input type="hidden" th:field="*{id}" />
          
          <!-- Personal Information Section -->
          <div class="form-section">
            <h2 class="section-title">Información Personal</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="nombres">Nombres</label>
                <input type="text" id="nombres" th:field="*{usuarioSolicitud.nombres}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="dui">DUI</label>
                <input type="text" id="dui" th:field="*{usuarioSolicitud.dui}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="nit">NIT</label>
                <input type="text" id="nit" th:field="*{usuarioSolicitud.nit}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="fechaNacimiento">Fecha de nacimiento</label>
                <input type="date" id="fechaNacimiento" th:field="*{usuarioSolicitud.fechaNacimiento}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="estadoCivil">Estado civil</label>
                <select id="estadoCivil" th:field="*{usuarioSolicitud.estadoCivil}" class="form-select">
                  <option value="soltero">Soltero</option>
                  <option value="casado">Casado</option>
                  <option value="divorciado">Divorciado</option>
                  <option value="viudo">Viudo</option>
                </select>
              </div>
              
              <div class="info-block">
                <label for="telefono">Teléfono celular</label>
                <input type="tel" id="telefono" th:field="*{usuarioSolicitud.telefono}" />
              </div>
              
              <div class="info-block">
                <label for="email">Correo electrónico</label>
                <input type="email" id="email" th:field="*{usuarioSolicitud.email}" />
              </div>
              
              <div class="info-block full-width">
                <label for="direccion">Dirección</label>
                <textarea id="direccion" th:field="*{usuarioSolicitud.direccion}" class="form-textarea" rows="3"></textarea>
              </div>
            </div>
          </div>

          <!-- Work Information Section -->
          <div class="form-section">
            <h2 class="section-title">Información Laboral</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="empresaTrabajo">Empresa donde trabaja</label>
                <input type="text" id="empresaTrabajo" th:field="*{usuarioSolicitud.empresaTrabajo}" />
              </div>
              
              <div class="info-block">
                <label for="puesto">Puesto o cargo</label>
                <input type="text" id="puesto" th:field="*{usuarioSolicitud.puesto}" />
              </div>
              
              <div class="info-block">
                <label for="ingresoMensual">Ingresos mensuales</label>
                <input type="number" id="ingresoMensual" th:field="*{usuarioSolicitud.ingresoMensual}" />
              </div>
              
              <div class="info-block">
                <label for="tipoContrato">Tipo de contrato</label>
                <select id="tipoContrato" th:field="*{usuarioSolicitud.tipoContrato}" class="form-select">
                  <option value="permanente">Permanente</option>
                  <option value="temporal">Temporal</option>
                  <option value="otro">Otro</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Credit Information Section -->
          <div class="form-section">
            <h2 class="section-title">Datos del Crédito</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="monto">Monto solicitado ($)</label>
                <input type="number" id="monto" th:field="*{monto}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="plazoMeses">Plazo en meses</label>
                <input type="number" id="plazoMeses" th:field="*{plazoMeses}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="destino">Destino del crédito</label>
                <select id="destino" th:field="*{destino}" class="form-select">
                  <option value="consumo">Consumo personal</option>
                  <option value="negocio">Negocio</option>
                  <option value="compra">Compra de bienes</option>
                  <option value="deuda">Pago de deudas</option>
                  <option value="otro">Otro</option>
                </select>
              </div>
              
              <div class="info-block">
                <label for="formaDePago">Forma de pago</label>
                <select id="formaDePago" th:field="*{formaDePago}" class="form-select">
                  <option value="quincenal">Quincenal</option>
                  <option value="mensual">Mensual</option>
                </select>
              </div>
            </div>
          </div>

          <!-- References Section -->
          <div class="form-section">
            <h2 class="section-title">Referencias Personales</h2>
            <div class="info-grid">
              <div class="info-block">
                <label for="referencia1">Nombre referencia 1</label>
                <input type="text" id="referencia1" th:field="*{usuarioSolicitud.referencia1}" />
              </div>
              
              <div class="info-block">
                <label for="telefonoReferencia1">Teléfono referencia 1</label>
                <input type="tel" id="telefonoReferencia1" th:field="*{usuarioSolicitud.telefonoReferencia1}" />
              </div>
              
              <div class="info-block">
                <label for="parentesco1">Parentesco</label>
                <input type="text" id="parentesco1" th:field="*{usuarioSolicitud.parentesco1}" />
              </div>
              
              <div class="info-block">
                <label for="referencia2">Nombre referencia 2</label>
                <input type="text" id="referencia2" th:field="*{usuarioSolicitud.referencia2}" />
              </div>
              
              <div class="info-block">
                <label for="telefonoReferencia2">Teléfono referencia 2</label>
                <input type="tel" id="telefonoReferencia2" th:field="*{usuarioSolicitud.telefonoReferencia2}" />
              </div>
              
              <div class="info-block">
                <label for="parentesco2">Parentesco</label>
                <input type="text" id="parentesco2" th:field="*{usuarioSolicitud.parentesco2}" />
              </div>
            </div>
          </div>

          <!-- Declaration Section -->
          <div class="form-section">
            <h2 class="section-title">Declaración</h2>
            <div class="info-grid">
              <div class="info-block full-width">
                <div class="declaration-text">
                  <p>Firmando, declaro que la información proporcionada es verdadera y autorizo a la financiera a verificarla.</p>
                </div>
              </div>
              
              <div class="info-block">
                <label for="firma">Firma del solicitante</label>
                <input type="text" id="firma" th:field="*{usuarioSolicitud.firma}" disabled required />
              </div>
              
              <div class="info-block">
                <label for="fechaSolicitud">Fecha</label>
                
                <input type="date" id="fechaSolicitud" th:field="*{usuarioSolicitud.fechaSolicitud}" disabled required />
              </div>
            </div>
          </div>

          <div class="panel-actions">
            <button type="button" class="btn btn-primary" id="edit-btn">Editar Información</button>
            <button type="submit" class="btn btn-success" id="save-btn" style="display: none;">Guardar Cambios</button>
            <a href="/credito/dashboard" class="btn btn-secondary">Regresar</a>
          </div>
        </form>
      </div>
    </section>

    <script>
      const editBtn = document.getElementById("edit-btn");
      const saveBtn = document.getElementById("save-btn");
      const form = document.getElementById("user-form");
      const inputs = form.querySelectorAll("input:not([type='hidden'])");

      editBtn.addEventListener("click", () => {
        inputs.forEach(input => input.removeAttribute("disabled"));
        editBtn.style.display = "none";
        saveBtn.style.display = "inline-block";
      });
    </script>
  </div>
</html>